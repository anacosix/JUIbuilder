{
  "authorization": [
    {
      "role": "Projektverantwortlicher",
      "activity": "edit"
    }
  ],
  "identity": {
    "name": "createOffer",
    "designation": "Angebot erstellen",
    "description": "Hier erstellst du einen Projektentwurf, der der Kund*in als Angebot vorgelegt wird. \nGeneriere ein virtuelles Projekt, das bereits alle (geschätzten) Leistungen, samt Preisen enthält, um der Kund*in eine Entscheidungsgrundlage zukommen lassen zu können, die nach erfolgter Bestätigung durch die Kund*in zugleich die Grundlage des daraus resultierenden Arbeitsauftrags bildet.",
    "circle": "Purpose",
    "domain": "Projektabwicklung"
  },
  "output": {
    "class": [
      {
        "name": "offer",
        "designation": "Angebot",
        "display": [
          {
            "type": "list",
            "refItem": [
              "offerId",
              "validToDate",
              "customer"
            ]
          }
        ],
        "item": [
          {
            "name": "offerId",
            "designation": "Nummer",
            "type": "string",
            "properties": {
              "required": true,
              "unique": true,
              "value": {
                "concatenation": [
                  {
                    "constant": "OF"
                  },
                  {
                    "constant": " "
                  },
                  {
                    "variable": "year"
                  },
                  {
                    "refItemNext": {
                      "refItem": "offer",
                      "offset": "7,4",
                      "type": "table",
                      "step": 1,
                      "base": 0
                    }
                  }
                ]
              }
            }
          },
          {
            "name": "customer",
            "designation": "Kunde",
            "type": "object",
            "refClass": "customer"
          },
          {
            "name": "designation",
            "designation": "Bezeichnung",
            "type": "string"
          },
          {
            "name": "description",
            "designation": "Beschreibung",
            "type": "string",
            "properties": {
              "format": "textarea"
            }
          },
          {
            "name": "creationDate",
            "designation": "Erstellungsdatum",
            "type": "date",
            "properties": {
              "value": {
                "variable": "systemDate"
              }
            }
          },
          {
            "name": "validToDate",
            "designation": "Gültig bis",
            "type": "date"
          }
        ],
        "list": [
          {
            "name": "position",
            "designation": "Angebotsposition",
            "type": "array",
            "item": [
              {
                "name": "activity",
                "designation": "Tätigkeit",
                "type": "object",
                "refClass": "activity",
                "properties": {
                  "required": true,
                  "unique": true
                }
              },
              {
                "name": "description",
                "designation": "Beschreibung",
                "type": "string",
                "refItem": "activity",
                "properties": {
                  "value": {
                    "refItem": "activity.description"
                  },
                  "format": "textarea"
                }
              },
              {
                "name": "quantity",
                "designation": "Menge",
                "type": "number",
                "properties": {
                  "decimals": 1,
                  "unit": {
                    "refItem": "unit"
                  }
                }
              },
              {
                "name": "unit",
                "designation": "Einheit",
                "type": "object",
                "refItem": "activity",
                "refClass": "unit"
              },
              {
                "name": "price",
                "designation": "Preis",
                "type": "number",
                "refItem": "activity",
                "properties": {
                  "decimals": 2,
                  "currency": {},
                  "value": {
                    "refItem": "activity.price"
                  }
                }
              }
            ]
          }
        ]
      }
    ]
  },
  "result": {
    "resultDef": [
      {
        "template": "Angebot",
        "service": "pdf",
        "transport": {
          "destinationItem": "offer.project.customer.contact.email",
          "type": "email"
        }
      }
    ]
  },
  "state": {
    "direction": "Purpose",
    "task": "Agreement",
    "step": "Preparation"
  },
  "trigger": {
    "startOn": [
      {
        "type": "Manual"
      }
    ]
  },
  "validity": {}
}