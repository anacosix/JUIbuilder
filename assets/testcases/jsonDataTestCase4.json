{
  "authorization": [
    {
      "role": "Projektverantwortlicher",
      "activity": "edit"
    },
    {
      "role": "Mitarbeiter",
      "activity": "view"
    }
  ],
  "identity": {
    "name": "maintainProject",
    "designation": "Projekt bearbeiten",
    "description": "Hier erstellst du Projekte, die ohne einen Umweg über „Angebot erstellen“ direkt freigegeben werden können. \nEröffne Projekte, die mit Kunden schon umfassend mündlich abgesprochen wurden oder bei denen du auf eine Auftragsbestätigung verzichten möchtest. Die Projekte können in der Folge direkt zur Bearbeitung freigegeben werden.",
    "circle": "Purpose",
    "domain": "Projektabwicklung"
  },
  "input": {
    "class": [
      {
        "name": "customer"
      }
    ]
  },
  "output": {
    "class": [
      {
        "name": "project",
        "designation": "Projekt",
        "display": [
          {
            "type": "list",
            "refItem": [
              "projectId",
              "designation",
              "customer"
            ]
          }
        ],
        "item": [
          {
            "name": "projectId",
            "designation": "Projekt",
            "type": "string",
            "properties": {
              "required": true,
              "unique": true,
              "hint": "Nummer",
              "value": {
                "concatenation": [
                  {
                    "constant": "PR"
                  },
                  {
                    "constant": " "
                  },
                  {
                    "variable": "year"
                  },
                  {
                    "refItemNext": {
                      "refItem": "projectId",
                      "offset": "7,4",
                      "type": "table",
                      "step": 1,
                      "base": 0
                    }
                  }
                ]
              }
            }
          },
          {
            "name": "offer",
            "designation": "Angebot",
            "type": "object",
            "refClass": "offer",
            "asInput": true
          },
          {
            "name": "designation",
            "designation": "Bezeichnung",
            "type": "string"
          },
          {
            "name": "description",
            "designation": "Beschreibung",
            "type": "string",
            "properties": {
              "format": "textarea"
            }
          },
          {
            "name": "start",
            "designation": "Start",
            "type": "date"
          },
          {
            "name": "end",
            "designation": "Ende",
            "type": "date"
          }
        ],
        "list": [
          {
            "name": "position",
            "designation": "Projektposition",
            "type": "array",
            "item": [
              {
                "name": "activity",
                "designation": "Tätigkeit",
                "type": "object",
                "refClass": "activity",
                "properties": {
                  "required": true,
                  "unique": true
                }
              },
              {
                "name": "description",
                "designation": "Beschreibung",
                "type": "string",
                "refItem": "activity",
                "properties": {
                  "value": {
                    "refItem": "activity.description"
                  },
                  "format": "textarea"
                }
              },
              {
                "name": "quantity",
                "designation": "Menge",
                "type": "number",
                "properties": {
                  "decimals": 1,
                  "unit": {
                    "refItem": "unit"
                  }
                }
              },
              {
                "name": "unit",
                "designation": "Einheit",
                "type": "object",
                "refItem": "activity",
                "refClass": "unit"
              },
              {
                "name": "price",
                "designation": "Preis",
                "type": "number",
                "refItem": "activity",
                "properties": {
                  "decimals": 2,
                  "currency": {},
                  "value": {
                    "refItem": "activity.price"
                  }
                }
              }
            ]
          }
        ]
      }
    ],
    "approval": [
      {
        "refRole": [
          "Projektverantwortlicher"
        ]
      }
    ]
  },
  "state": {
    "direction": "Purpose",
    "task": "Agreement",
    "step": "Execution"
  },
  "trigger": {
    "startOn": [
      {
        "type": "Manual"
      }
    ]
  },
  "validity": {}
}